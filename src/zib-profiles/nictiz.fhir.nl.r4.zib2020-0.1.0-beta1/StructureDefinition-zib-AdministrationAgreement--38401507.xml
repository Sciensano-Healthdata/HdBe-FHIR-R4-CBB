<StructureDefinition xmlns="http://hl7.org/fhir">
    <id value="zib-AdministrationAgreement"/>
    <url value="http://nictiz.nl/fhir/StructureDefinition/zib-AdministrationAgreement"/>
    <name value="ZibAdministrationAgreement"/>
    <title value="zib AdministrationAgreement"/>
    <status value="draft"/>
    <publisher value="Nictiz"/>
    <contact>
        <name value="Nictiz"/>
        <telecom>
            <system value="email"/>
            <value value="info@nictiz.nl"/>
            <use value="work"/>
        </telecom>
    </contact>
    <description
        value="An administration agreement is the use (or administering) instructions from the pharmacist to the patient (or their representative or administrator), whereby a medication agreement is structured at a concrete level."/>
    <purpose
        value="This MedicationDispense resource represents the Dutch [zib ('Zorginformatiebouwsteen', i.e. Health and Care Information Model) ](https://zibs.nl/wiki/AdministrationAgreement-v1.0.3(2020EN))."/>
    <copyright
        value="Copyright and related rights waived via CC0, https://creativecommons.org/publicdomain/zero/1.0/. This does not apply to information from third parties, for example a medical terminology system. The implementer alone is responsible for identifying and obtaining any necessary licenses or authorizations to utilize third party IP in connection with the specification or otherwise."/>
    <fhirVersion value="4.0.1"/>
    <mapping>
        <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
        <uri value="https://zibs.nl/wiki/AdministrationAgreement-v1.0.3(2020EN)"/>
        <name value="zib AdministrationAgreement-v1.0.3(2020EN)"/>
    </mapping>
    <kind value="resource"/>
    <abstract value="true"/>
    <type value="MedicationDispense"/>
    <baseDefinition value="http://hl7.org/fhir/StructureDefinition/MedicationDispense"/>
    <derivation value="constraint"/>
    <snapshot>
        <element id="MedicationDispense">
            <path value="MedicationDispense"/>
            <short value="AdministrationAgreement"/>
            <definition
                value="Indicates that a medication product is to be or has been dispensed for a named person/patient.  This includes a description of the medication product (supply) provided and the instructions for administering the medication.  The medication dispense is the result of a pharmacy system responding to a medication order."/>
            <alias value="Toedieningsafspraak"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="MedicationDispense"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <constraint>
                <key value="dom-2"/>
                <severity value="error"/>
                <human
                    value="If the resource is contained in another resource, it SHALL NOT contain nested Resources"/>
                <expression value="contained.contained.empty()"/>
                <xpath value="not(parent::f:contained and f:contained)"/>
                <source value="http://hl7.org/fhir/StructureDefinition/DomainResource"/>
            </constraint>
            <constraint>
                <key value="dom-4"/>
                <severity value="error"/>
                <human
                    value="If a resource is contained in another resource, it SHALL NOT have a meta.versionId or a meta.lastUpdated"/>
                <expression
                    value="contained.meta.versionId.empty() and contained.meta.lastUpdated.empty()"/>
                <xpath
                    value="not(exists(f:contained/*/f:meta/f:versionId)) and not(exists(f:contained/*/f:meta/f:lastUpdated))"/>
                <source value="http://hl7.org/fhir/StructureDefinition/DomainResource"/>
            </constraint>
            <constraint>
                <key value="dom-3"/>
                <severity value="error"/>
                <human
                    value="If the resource is contained in another resource, it SHALL be referred to from elsewhere in the resource or SHALL refer to the containing resource"/>
                <expression
                    value="contained.where((('#'+id in (%resource.descendants().reference | %resource.descendants().as(canonical) | %resource.descendants().as(uri) | %resource.descendants().as(url))) or descendants().where(reference = '#').exists() or descendants().where(as(canonical) = '#').exists() or descendants().where(as(canonical) = '#').exists()).not()).trace('unmatched', id).empty()"/>
                <xpath
                    value="not(exists(for $id in f:contained/*/f:id/@value return $contained[not(parent::*/descendant::f:reference/@value=concat('#', $contained/*/id/@value) or descendant::f:reference[@value='#'])]))"/>
                <source value="http://hl7.org/fhir/StructureDefinition/DomainResource"/>
            </constraint>
            <constraint>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice">
                    <valueBoolean value="true"/>
                </extension>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bestpractice-explanation">
                    <valueMarkdown
                        value="When a resource has no narrative, only systems that fully understand the data can display the resource to a human safely. Including a human readable representation in the resource makes for a much more robust eco-system and cheaper handling of resources by intermediary systems. Some ecosystems restrict distribution of resources to only those systems that do fully understand the resources, and as a consequence implementers may believe that the narrative is superfluous. However experience shows that such eco-systems often open up to new participants over time."
                    />
                </extension>
                <key value="dom-6"/>
                <severity value="warning"/>
                <human value="A resource should have narrative for robust management"/>
                <expression value="text.`div`.exists()"/>
                <xpath value="exists(f:text/h:div)"/>
                <source value="http://hl7.org/fhir/StructureDefinition/DomainResource"/>
            </constraint>
            <constraint>
                <key value="dom-5"/>
                <severity value="error"/>
                <human
                    value="If a resource is contained in another resource, it SHALL NOT have a security label"/>
                <expression value="contained.meta.security.empty()"/>
                <xpath value="not(exists(f:contained/*/f:meta/f:security))"/>
                <source value="http://hl7.org/fhir/StructureDefinition/DomainResource"/>
            </constraint>
            <constraint>
                <key value="mdd-1"/>
                <severity value="error"/>
                <human value="whenHandedOver cannot be before whenPrepared"/>
                <expression
                    value="whenHandedOver.empty() or whenPrepared.empty() or whenHandedOver &gt;= whenPrepared"/>
                <xpath
                    value="not(exists(f:whenHandedOver/@value)) or not(exists(f:whenPrepared/@value)) or ( f:whenHandedOver/@value &gt;= f:whenPrepared/@value)"/>
                <source value="http://hl7.org/fhir/StructureDefinition/MedicationDispense"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="Entity. Role, or Act"/>
            </mapping>
            <mapping>
                <identity value="workflow"/>
                <map value="Event"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="Supply[moodCode=EVN]"/>
            </mapping>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.20132"/>
                <comment value="AdministrationAgreement"/>
            </mapping>
        </element>
        <element id="MedicationDispense.id">
            <path value="MedicationDispense.id"/>
            <short value="Logical id of this artifact"/>
            <definition
                value="The logical id of the resource, as used in the URL for the resource. Once assigned, this value never changes."/>
            <comment
                value="The only time that a resource does not have an id is when it is being submitted to the server using a create operation."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="Resource.id"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
                    <valueUrl value="string"/>
                </extension>
                <code value="http://hl7.org/fhirpath/System.String"/>
            </type>
            <isSummary value="true"/>
        </element>
        <element id="MedicationDispense.meta">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.meta"/>
            <short value="Metadata about the resource"/>
            <definition
                value="The metadata about the resource. This is content that is maintained by the infrastructure. Changes to the content might not always be associated with version changes to the resource."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="Resource.meta"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="Meta"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <isSummary value="true"/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.implicitRules">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.implicitRules"/>
            <short value="A set of rules under which this content was created"/>
            <definition
                value="A reference to a set of rules that were followed when the resource was constructed, and which must be understood when processing the content. Often, this is a reference to an implementation guide that defines the special rules along with other profiles etc."/>
            <comment
                value="Asserting this rule set restricts the content to be only understood by a limited set of trading partners. This inherently limits the usefulness of the data in the long term. However, the existing health eco-system is highly fractured, and not yet ready to define, collect, and exchange data in a generally computable sense. Wherever possible, implementers and/or specification writers should avoid using this element. Often, when used, the URL is a reference to an implementation guide that defines these special rules as part of it's narrative along with other profiles, value sets, etc."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="Resource.implicitRules"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="uri"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <isModifier value="true"/>
            <isModifierReason
                value="This element is labeled as a modifier because the implicit rules may provide additional knowledge about the resource that modifies it's meaning or interpretation"/>
            <isSummary value="true"/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
        </element>
        <element id="MedicationDispense.language">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.language"/>
            <short value="Language of the resource content"/>
            <definition value="The base language in which the resource is written."/>
            <comment
                value="Language is provided to support indexing and accessibility (typically, services such as text to speech use the language tag). The html language tag in the narrative applies  to the narrative. The language tag on the resource may be used to specify the language of other presentations generated from the data in the resource. Not all the content has to be in the base language. The Resource.language should not be assumed to apply to the narrative automatically. If a language is specified, it should it also be specified on the div element in the html (see rules in HTML5 for information about the relationship between xml:lang and the html lang attribute)."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="Resource.language"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="code"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <binding>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/elementdefinition-maxValueSet">
                    <valueCanonical value="http://hl7.org/fhir/ValueSet/all-languages"/>
                </extension>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
                    <valueString value="Language"/>
                </extension>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/elementdefinition-isCommonBinding">
                    <valueBoolean value="true"/>
                </extension>
                <strength value="preferred"/>
                <description value="A human language."/>
                <valueSet value="http://hl7.org/fhir/ValueSet/languages"/>
            </binding>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
        </element>
        <element id="MedicationDispense.text">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.text"/>
            <short value="Text summary of the resource, for human interpretation"/>
            <definition
                value="A human-readable narrative that contains a summary of the resource and can be used to represent the content of the resource to a human. The narrative need not encode all the structured data, but is required to contain sufficient detail to make it &quot;clinically safe&quot; for a human to just read the narrative. Resource definitions may define what content should be represented in the narrative to ensure clinical safety."/>
            <comment
                value="Contained resources do not have narrative. Resources that are not contained SHOULD have a narrative. In some cases, a resource may only have text with little or no additional discrete data (as long as all minOccurs=1 elements are satisfied).  This may be necessary for data from legacy systems where information is captured as a &quot;text blob&quot; or where text is additionally entered raw or narrated and encoded information is added later."/>
            <alias value="narrative"/>
            <alias value="html"/>
            <alias value="xhtml"/>
            <alias value="display"/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="DomainResource.text"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="Narrative"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="Act.text?"/>
            </mapping>
        </element>
        <element id="MedicationDispense.contained">
            <path value="MedicationDispense.contained"/>
            <short value="Contained, inline Resources"/>
            <definition
                value="These resources do not have an independent existence apart from the resource that contains them - they cannot be identified independently, and nor can they have their own independent transaction scope."/>
            <comment
                value="This should never be done when the content can be identified properly, as once identification is lost, it is extremely difficult (and context dependent) to restore it again. Contained resources may have profiles and tags In their meta elements, but SHALL NOT have security labels."/>
            <alias value="inline resources"/>
            <alias value="anonymous resources"/>
            <alias value="contained resources"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="DomainResource.contained"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Resource"/>
            </type>
            <mapping>
                <identity value="rim"/>
                <map value="Entity. Role, or Act"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.extension">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.extension"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="url"/>
                </discriminator>
                <description value="Extensions are always sliced by (at least) url"/>
                <rules value="open"/>
            </slicing>
            <short value="Additional content defined by implementations"/>
            <definition
                value="May be used to represent additional information that is not part of the basic definition of the resource. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
            <comment
                value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="DomainResource.extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ext-1"/>
                <severity value="error"/>
                <human value="Must have either extensions or value[x], not both"/>
                <expression value="extension.exists() != value.exists()"/>
                <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.extension:additionalInformation">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.extension"/>
            <sliceName value="additionalInformation"/>
            <short value="Optional Extensions Element"/>
            <definition value="Optional Extension Element - found in all resources."/>
            <comment
                value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="DomainResource.extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
                <profile
                    value="http://nictiz.nl/fhir/StructureDefinition/ext-AdministrationAgreement.AdditionalInformation"
                />
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ext-1"/>
                <severity value="error"/>
                <human value="Must have either extensions or value[x], not both"/>
                <expression value="extension.exists() != value.exists()"/>
                <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.extension:agreementReason">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.extension"/>
            <sliceName value="agreementReason"/>
            <short value="Optional Extensions Element"/>
            <definition value="Optional Extension Element - found in all resources."/>
            <comment
                value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="DomainResource.extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
                <profile
                    value="http://nictiz.nl/fhir/StructureDefinition/ext-AdministrationAgreement.AgreementReason"
                />
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ext-1"/>
                <severity value="error"/>
                <human value="Must have either extensions or value[x], not both"/>
                <expression value="extension.exists() != value.exists()"/>
                <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.extension:administrationAgreementDateTime">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.extension"/>
            <sliceName value="administrationAgreementDateTime"/>
            <short value="Optional Extensions Element"/>
            <definition value="Optional Extension Element - found in all resources."/>
            <comment
                value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="DomainResource.extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
                <profile
                    value="http://nictiz.nl/fhir/StructureDefinition/ext-AdministrationAgreement.AdministrationAgreementDateTime"
                />
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ext-1"/>
                <severity value="error"/>
                <human value="Must have either extensions or value[x], not both"/>
                <expression value="extension.exists() != value.exists()"/>
                <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.extension:renderedDosageInstruction">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.extension"/>
            <sliceName value="renderedDosageInstruction"/>
            <short value="Optional Extensions Element"/>
            <definition
                value="Pre-adopt from FHIR R5 of the `.renderedDosageInstruction` element found in various medication resources."/>
            <comment
                value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="DomainResource.extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
                <profile
                    value="http://nictiz.nl/fhir/StructureDefinition/ext-RenderedDosageInstruction"
                />
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ext-1"/>
                <severity value="error"/>
                <human value="Must have either extensions or value[x], not both"/>
                <expression value="extension.exists() != value.exists()"/>
                <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.extension:periodOfUse-Period">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.extension"/>
            <sliceName value="periodOfUse-Period"/>
            <short value="Optional Extensions Element"/>
            <definition value="Optional Extension Element - found in all resources."/>
            <comment
                value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="DomainResource.extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
                <profile value="http://nictiz.nl/fhir/StructureDefinition/ext-TimeInterval-Period"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ext-1"/>
                <severity value="error"/>
                <human value="Must have either extensions or value[x], not both"/>
                <expression value="extension.exists() != value.exists()"/>
                <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.extension:periodOfUse-Period.id">
            <path value="MedicationDispense.extension.id"/>
            <representation value="xmlAttr"/>
            <short value="Unique id for inter-element referencing"/>
            <definition
                value="Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="Element.id"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
                    <valueUrl value="string"/>
                </extension>
                <code value="http://hl7.org/fhirpath/System.String"/>
            </type>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
        </element>
        <element id="MedicationDispense.extension:periodOfUse-Period.extension">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.extension.extension"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="url"/>
                </discriminator>
                <description value="Extensions are always sliced by (at least) url"/>
                <rules value="open"/>
            </slicing>
            <short value="Additional content defined by implementations"/>
            <definition
                value="May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
            <comment
                value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="Element.extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ext-1"/>
                <severity value="error"/>
                <human value="Must have either extensions or value[x], not both"/>
                <expression value="extension.exists() != value.exists()"/>
                <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.extension:periodOfUse-Period.url">
            <path value="MedicationDispense.extension.url"/>
            <representation value="xmlAttr"/>
            <short value="identifies the meaning of the extension"/>
            <definition
                value="Source of the definition for the extension code - a logical name or a URL."/>
            <comment
                value="The definition may point directly to a computable or human-readable definition of the extensibility codes, or it may be a logical URI as declared in some other specification. The definition SHALL be a URI for the Structure Definition defining the extension."/>
            <min value="1"/>
            <max value="1"/>
            <base>
                <path value="Extension.url"/>
                <min value="1"/>
                <max value="1"/>
            </base>
            <type>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
                    <valueUrl value="uri"/>
                </extension>
                <code value="http://hl7.org/fhirpath/System.String"/>
            </type>
            <fixedUri value="http://nictiz.nl/fhir/StructureDefinition/ext-TimeInterval-Period"/>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.extension:periodOfUse-Period.value[x]">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.extension.value[x]"/>
            <short value="PeriodOfUse"/>
            <definition
                value="**Start date**: This is the time at which the agreement was to take effect (or took effect or will take effect). This is the time at which the instructions for use in this agreement start. In the case of an agreement to discontinue use, this is the start date of the original administration agreement. The end date indicates from when the medication is to be discontinued.&#xD;&#xA;**End date**: The time at which the period of use ends (or ended or will end). In the case of an agreement to discontinue use, this is the time at which the medication is to be discontinued. To avoid confusion between 'to' and 'up to', the submission of time is always mandatory for the end date.&#xD;&#xA;&#xD;&#xA;With medication for an indefinite period only a start date is indicated."/>
            <comment
                value="When the Duration of zib TimeInterval is known in conjunction with either the startDateTime or endDateTime, it SHALL be converted to a Period and represented using this element. When only the Duration is known, it can be communicated using the &lt;http://nictiz.nl/fhir/StructureDefinition/ext-PeriodOfUse-Duration&gt; extension."/>
            <alias value="Gebruiksperiode"/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="Extension.value[x]"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="Period"/>
                <profile
                    value="http://nictiz.nl/fhir/StructureDefinition/pattern-ZibTimeIntervalPeriod"
                />
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="per-1"/>
                <severity value="error"/>
                <human value="If present, start SHALL have a lower value than end"/>
                <expression
                    value="start.hasValue().not() or end.hasValue().not() or (start &lt;= end)"/>
                <xpath
                    value="not(exists(f:start/@value)) or not(exists(f:end/@value)) or (xs:dateTime(f:start/@value) &lt;= xs:dateTime(f:end/@value))"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Identifier"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="DR"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value="IVL&lt;TS&gt;[lowClosed=&quot;true&quot; and highClosed=&quot;true&quot;] or URG&lt;TS&gt;[lowClosed=&quot;true&quot; and highClosed=&quot;true&quot;]"
                />
            </mapping>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.22660"/>
                <comment value="PeriodOfUse"/>
            </mapping>
        </element>
        <element id="MedicationDispense.extension:periodOfUse-Duration">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.extension"/>
            <sliceName value="periodOfUse-Duration"/>
            <short value="Optional Extensions Element"/>
            <definition value="Optional Extension Element - found in all resources."/>
            <comment
                value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="DomainResource.extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
                <profile value="http://nictiz.nl/fhir/StructureDefinition/ext-TimeInterval-Duration"
                />
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ext-1"/>
                <severity value="error"/>
                <human value="Must have either extensions or value[x], not both"/>
                <expression value="extension.exists() != value.exists()"/>
                <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.extension:periodOfUse-Duration.id">
            <path value="MedicationDispense.extension.id"/>
            <representation value="xmlAttr"/>
            <short value="Unique id for inter-element referencing"/>
            <definition
                value="Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="Element.id"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
                    <valueUrl value="string"/>
                </extension>
                <code value="http://hl7.org/fhirpath/System.String"/>
            </type>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
        </element>
        <element id="MedicationDispense.extension:periodOfUse-Duration.extension">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.extension.extension"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="url"/>
                </discriminator>
                <description value="Extensions are always sliced by (at least) url"/>
                <rules value="open"/>
            </slicing>
            <short value="Additional content defined by implementations"/>
            <definition
                value="May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
            <comment
                value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="Element.extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ext-1"/>
                <severity value="error"/>
                <human value="Must have either extensions or value[x], not both"/>
                <expression value="extension.exists() != value.exists()"/>
                <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.extension:periodOfUse-Duration.url">
            <path value="MedicationDispense.extension.url"/>
            <representation value="xmlAttr"/>
            <short value="identifies the meaning of the extension"/>
            <definition
                value="Source of the definition for the extension code - a logical name or a URL."/>
            <comment
                value="The definition may point directly to a computable or human-readable definition of the extensibility codes, or it may be a logical URI as declared in some other specification. The definition SHALL be a URI for the Structure Definition defining the extension."/>
            <min value="1"/>
            <max value="1"/>
            <base>
                <path value="Extension.url"/>
                <min value="1"/>
                <max value="1"/>
            </base>
            <type>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
                    <valueUrl value="uri"/>
                </extension>
                <code value="http://hl7.org/fhirpath/System.String"/>
            </type>
            <fixedUri value="http://nictiz.nl/fhir/StructureDefinition/ext-TimeInterval-Duration"/>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.extension:periodOfUse-Duration.value[x]">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.extension.value[x]"/>
            <short value="Duration / PeriodOfUse"/>
            <definition
                value="**Duration**: the intended duration of use. E.g. 5 days or 8 weeks. It is not allowed to indicate the duration in months, because different months have a variable duration in days."/>
            <comment
                value="Please note that when the zib concept Duration is known together with the zib concept startDateTime or a endDateTime, it should be communicated using a calculated Period. This element SHALL only be used if a Duration is known when neither startDateTime and endDateTime are known."/>
            <alias value="tijdsDuur"/>
            <alias value="Gebruiksperiode"/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="Extension.value[x]"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="Duration"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
            <mapping>
                <identity value="zib-timeinterval-v1.0-2020EN"/>
                <map value="NL-CM:20.3.4"/>
                <comment value="Duration"/>
            </mapping>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.22660"/>
                <comment value="PeriodOfUse"/>
            </mapping>
        </element>
        <element id="MedicationDispense.modifierExtension">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.modifierExtension"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="url"/>
                </discriminator>
                <description value="Extensions are always sliced by (at least) url"/>
                <rules value="open"/>
            </slicing>
            <short value="Extensions that cannot be ignored"/>
            <definition
                value="May be used to represent additional information that is not part of the basic definition of the resource and that modifies the understanding of the element that contains it and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer is allowed to define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.&#xA;&#xA;Modifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself)."/>
            <comment
                value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <requirements
                value="Modifier extensions allow for extensions that *cannot* be safely ignored to be clearly distinguished from the vast majority of extensions which can be safely ignored.  This promotes interoperability by eliminating the need for implementers to prohibit the presence of extensions. For further information, see the [definition of modifier extensions](extensibility.html#modifierExtension)."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="DomainResource.modifierExtension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ext-1"/>
                <severity value="error"/>
                <human value="Must have either extensions or value[x], not both"/>
                <expression value="extension.exists() != value.exists()"/>
                <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <isModifier value="true"/>
            <isModifierReason
                value="Modifier extensions are expected to modify the meaning or interpretation of the resource that contains them"/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.modifierExtension:stopType">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.modifierExtension"/>
            <sliceName value="stopType"/>
            <short value="Optional Extensions Element"/>
            <definition
                value="This StopType ModifierExtension works differently than the `.status` element of resources because it has a different meaning. The `.status` element represents the status of the resource at the moment of exchanging the resource. This means that over the lifetime of a resource, the status may change (and is very much related to use period). That – in itself – makes mapping StopType (which may never change in an instance) to status not suitable.&#xD;&#xA;&#xD;&#xA;For example: suppose you want the patient to stop taking medication definitively three days from today. This is a stop medication agreement with a StopType of _definitive_. However today, tomorrow and the day after tomorrow the `.status` of this medication agreement is _active_ and only after the end date of the usage period the `status` should be _stopped_. Status and StopType are simply not the same thing."/>
            <comment
                value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <requirements
                value="Modifier extensions allow for extensions that *cannot* be safely ignored to be clearly distinguished from the vast majority of extensions which can be safely ignored.  This promotes interoperability by eliminating the need for implementers to prohibit the presence of extensions. For further information, see the [definition of modifier extensions](extensibility.html#modifierExtension)."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="DomainResource.modifierExtension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
                <profile value="http://nictiz.nl/fhir/StructureDefinition/ext-StopType"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ext-1"/>
                <severity value="error"/>
                <human value="Must have either extensions or value[x], not both"/>
                <expression value="extension.exists() != value.exists()"/>
                <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <isModifier value="true"/>
            <isModifierReason
                value="This element is labeled as a modifier because the stoptype contain codes that mark the resource as no longer active."/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.modifierExtension:stopType.id">
            <path value="MedicationDispense.modifierExtension.id"/>
            <representation value="xmlAttr"/>
            <short value="Unique id for inter-element referencing"/>
            <definition
                value="Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="Element.id"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
                    <valueUrl value="string"/>
                </extension>
                <code value="http://hl7.org/fhirpath/System.String"/>
            </type>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
        </element>
        <element id="MedicationDispense.modifierExtension:stopType.extension">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.modifierExtension.extension"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="url"/>
                </discriminator>
                <description value="Extensions are always sliced by (at least) url"/>
                <rules value="open"/>
            </slicing>
            <short value="Additional content defined by implementations"/>
            <definition
                value="May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
            <comment
                value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="Element.extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ext-1"/>
                <severity value="error"/>
                <human value="Must have either extensions or value[x], not both"/>
                <expression value="extension.exists() != value.exists()"/>
                <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.modifierExtension:stopType.url">
            <path value="MedicationDispense.modifierExtension.url"/>
            <representation value="xmlAttr"/>
            <short value="identifies the meaning of the extension"/>
            <definition
                value="Source of the definition for the extension code - a logical name or a URL."/>
            <comment
                value="The definition may point directly to a computable or human-readable definition of the extensibility codes, or it may be a logical URI as declared in some other specification. The definition SHALL be a URI for the Structure Definition defining the extension."/>
            <min value="1"/>
            <max value="1"/>
            <base>
                <path value="Extension.url"/>
                <min value="1"/>
                <max value="1"/>
            </base>
            <type>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
                    <valueUrl value="uri"/>
                </extension>
                <code value="http://hl7.org/fhirpath/System.String"/>
            </type>
            <fixedUri value="http://nictiz.nl/fhir/StructureDefinition/ext-StopType"/>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.modifierExtension:stopType.value[x]">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.modifierExtension.value[x]"/>
            <short value="AdministrationAgreementStopType"/>
            <definition
                value="Stop type, the manner in which this medication is discontinued (temporary or definitive)."/>
            <comment
                value="MedicationAgreementStopType, AdministrationAgreementStopType and MedicationUseStopType all have a bound ValueSet that contain the exact same StopType values. These are represented in the zib with three Valuesets. Due to an error in zibs 2020 release, where one of the ValueSets was not updated, it is chosen to bind the (correct) MedicationAgreementStopType ValueSet to this extension and reusing this extension for all three concepts."/>
            <alias value="ToedieningsafspraakStopType"/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="Extension.value[x]"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="CodeableConcept"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <binding>
                <strength value="required"/>
                <description
                    value="StopType values, based on the valueset named MedicatieafspraakStopTypeCodelijst, which are are applicable for StopType in MedicationAgreement, AdministrationAgreement and MedicationUse."/>
                <valueSet
                    value="http://decor.nictiz.nl/fhir/ValueSet/2.16.840.1.113883.2.4.3.11.60.40.2.9.6.1--20200901000000"
                />
            </binding>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.22498"/>
                <comment value="AdministrationAgreementStopType"/>
            </mapping>
        </element>
        <element id="MedicationDispense.modifierExtension:repeatPeriodCyclicalSchedule">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.modifierExtension"/>
            <sliceName value="repeatPeriodCyclicalSchedule"/>
            <short value="Optional Extensions Element"/>
            <definition value="Optional Extension Element - found in all resources."/>
            <comment
                value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <requirements
                value="Modifier extensions allow for extensions that *cannot* be safely ignored to be clearly distinguished from the vast majority of extensions which can be safely ignored.  This promotes interoperability by eliminating the need for implementers to prohibit the presence of extensions. For further information, see the [definition of modifier extensions](extensibility.html#modifierExtension)."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="DomainResource.modifierExtension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
                <profile
                    value="http://nictiz.nl/fhir/StructureDefinition/ext-InstructionsForUse.RepeatPeriodCyclicalSchedule"
                />
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ext-1"/>
                <severity value="error"/>
                <human value="Must have either extensions or value[x], not both"/>
                <expression value="extension.exists() != value.exists()"/>
                <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <isModifier value="true"/>
            <isModifierReason
                value="The dosage instructions are interperted differently if RepeatPeriodCyclicalSchedule is present. Therorefore this extension is labeld a as a modifier extension."/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.identifier">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.identifier"/>
            <short value="External identifier"/>
            <definition
                value="Identifiers associated with this Medication Dispense that are defined by business processes and/or used to refer to it when a direct URL reference to the resource itself is not appropriate. They are business identifiers assigned to this resource by the performer or other systems and remain constant as the resource is updated and propagates from server to server."/>
            <comment value="This is a business identifier, not a resource identifier."/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="MedicationDispense.identifier"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Identifier"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="CX / EI (occasionally, more often EI maps to a resource id or a URL)"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value="II - The Identifier class is a little looser than the v3 type II because it allows URIs as well as registered OIDs or GUIDs.  Also maps to Role[classCode=IDENT]"
                />
            </mapping>
            <mapping>
                <identity value="servd"/>
                <map value="Identifier"/>
            </mapping>
            <mapping>
                <identity value="workflow"/>
                <map value="Event.identifier"/>
            </mapping>
            <mapping>
                <identity value="w5"/>
                <map value="FiveWs.identifier"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value=".id"/>
            </mapping>
            <mapping>
                <identity value="rx-dispense-rmim"/>
                <map value="CombinedMedicationDispense.id"/>
            </mapping>
        </element>
        <element id="MedicationDispense.partOf">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.partOf"/>
            <short value="Event that dispense is part of"/>
            <definition value="The procedure that trigger the dispense."/>
            <comment
                value="References SHALL be a reference to an actual FHIR resource, and SHALL be resolveable (allowing for access control, temporary unavailability, etc.). Resolution can be either by retrieval from the URL, or, where applicable by resource type, by treating an absolute reference as a canonical URL and looking it up in a local registry/repository."/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="MedicationDispense.partOf"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Procedure"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ref-1"/>
                <severity value="error"/>
                <human value="SHALL have a contained resource if a local reference is provided"/>
                <expression
                    value="reference.startsWith('#').not() or (reference.substring(1).trace('url') in %rootResource.contained.id.trace('ids'))"/>
                <xpath
                    value="not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Reference"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value="The target of a resource reference is a RIM entry point (Act, Role, or Entity)"
                />
            </mapping>
            <mapping>
                <identity value="workflow"/>
                <map value="Event.partOf"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value=".outboundRelationship[typeCode=COMP]/target[classCode=PROC,moodCode=EVN]"
                />
            </mapping>
        </element>
        <element id="MedicationDispense.status">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.status"/>
            <short value="CanceledIndicator / PeriodOfUse"/>
            <definition
                value="A code specifying the state of the set of dispense events. In the event of an error correction, the value is set to _entered-in-error_."/>
            <comment
                value="This element is mapped to the zib concept NL-CM:9.8.23034 (CanceledIndicator) and implicitly to zib concept NL-CM:9.8.22660 (PeriodOfUse). Unless a more appropriate status is recorded, the following guidance applies:&#xD;&#xA;&#xD;&#xA;* When CanceledIndicator is _true_, `.status` will be set to _entered-in-error_.&#xD;&#xA;* When PeriodOfUse start date is in the past and PeriodOfUse end date has a value and is in the future, `.status` will usually be set to _active_.&#xD;&#xA;* When PeriodOfUse end date is present and in the past, `.status` will usually be set to _completed_.&#xD;&#xA;* When PeriodOfUse duration and start date are known, the end date can be deducted and the previous rules apply. &#xD;&#xA;* When a system is unable to infer the status from the Start and End, `.status` will be set to _unknown_. The _unknown_ code is not to be used to convey other statuses. The _unknown_ code should be used when one of the statuses applies, but the authoring system doesn't know the current state of the AdministrationAgreement."/>
            <alias value="GeannuleerdIndicator"/>
            <alias value="Gebruiksperiode"/>
            <min value="1"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.status"/>
                <min value="1"/>
                <max value="1"/>
            </base>
            <type>
                <code value="code"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <isModifier value="true"/>
            <isModifierReason
                value="This element is labelled as a modifier because it is a status element that contains status entered-in-error which means that the resource should not be treated as valid"/>
            <isSummary value="true"/>
            <binding>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
                    <valueString value="MedicationDispenseStatus"/>
                </extension>
                <strength value="required"/>
                <description value="A coded concept specifying the state of the dispense event."/>
                <valueSet value="http://hl7.org/fhir/ValueSet/medicationdispense-status|4.0.1"/>
            </binding>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="workflow"/>
                <map value="Event.status"/>
            </mapping>
            <mapping>
                <identity value="w5"/>
                <map value="FiveWs.status"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value=".statusCode"/>
            </mapping>
            <mapping>
                <identity value="rx-dispense-rmim"/>
                <map value="CombinedMedicationDispense.SupplyEvent.statusCode"/>
            </mapping>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.23034"/>
                <comment value="CanceledIndicator"/>
            </mapping>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.22660"/>
                <comment
                    value="PeriodOfUse (implicit, main mapping is on the extensions ext-TimeInterval-Period and ext-TimeInterval-Duration)"
                />
            </mapping>
        </element>
        <element id="MedicationDispense.statusReason[x]">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.statusReason[x]"/>
            <short value="Why a dispense was not performed"/>
            <definition value="Indicates the reason why a dispense was not performed."/>
            <comment
                value="Not all terminology uses fit this general pattern. In some cases, models should not use CodeableConcept and use Coding directly and provide their own structure for managing text, codings, translations and the relationship between elements and pre- and post-coordination."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.statusReason[x]"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="CodeableConcept"/>
            </type>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/DetectedIssue"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <binding>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
                    <valueString value="MedicationDispenseStatusReason"/>
                </extension>
                <strength value="example"/>
                <description value="A code describing why a dispense was not performed."/>
                <valueSet value="http://hl7.org/fhir/ValueSet/medicationdispense-status-reason"/>
            </binding>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="CE/CNE/CWE"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="CD"/>
            </mapping>
            <mapping>
                <identity value="orim"/>
                <map value="fhir:CodeableConcept rdfs:subClassOf dt:CD"/>
            </mapping>
            <mapping>
                <identity value="workflow"/>
                <map value="Event.statusReason"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value=".outboundRelationship[typeCode=RSON]/target[classCode=OBS,moodCode=EVN, code=&quot;not done reason&quot;].value"
                />
            </mapping>
        </element>
        <element id="MedicationDispense.category">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.category"/>
            <short value="Type of medication dispense"/>
            <definition
                value="Indicates the type of medication dispense (for example, where the medication is expected to be consumed or administered (i.e. inpatient or outpatient))."/>
            <comment
                value="The category can be used to include where the medication is expected to be consumed or other types of dispenses.  Invariants can be used to bind to different value sets when profiling to bind."/>
            <min value="1"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.category"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="CodeableConcept"/>
            </type>
            <patternCodeableConcept>
                <coding>
                    <system value="http://snomed.info/sct"/>
                    <code value="422037009"/>
                </coding>
            </patternCodeableConcept>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <binding>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
                    <valueString value="MedicationDispenseCategory"/>
                </extension>
                <strength value="preferred"/>
                <description
                    value="A code describing where the dispensed medication is expected to be consumed or administered."/>
                <valueSet value="http://hl7.org/fhir/ValueSet/medicationdispense-category"/>
            </binding>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="CE/CNE/CWE"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="CD"/>
            </mapping>
            <mapping>
                <identity value="orim"/>
                <map value="fhir:CodeableConcept rdfs:subClassOf dt:CD"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value=".inboundRelationship[typeCode=COMP].source[classCode=OBS, moodCode=EVN, code=&quot;type of medication dispense&quot;].value"
                />
            </mapping>
        </element>
        <element id="MedicationDispense.medication[x]">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.medication[x]"/>
            <slicing>
                <discriminator>
                    <type value="type"/>
                    <path value="$this"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <short value="What medication was supplied"/>
            <definition
                value="Identifies the medication being administered. This is either a link to a resource representing the details of the medication or a simple attribute carrying a code that identifies the medication from a known list of medications."/>
            <comment
                value="If only a code is specified, then it needs to be a code for a specific product. If more information is required, then the use of the medication resource is recommended.  For example, if you require form or lot number, then you must reference the Medication resource."/>
            <min value="1"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.medication[x]"/>
                <min value="1"/>
                <max value="1"/>
            </base>
            <type>
                <code value="CodeableConcept"/>
            </type>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Medication"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <isSummary value="true"/>
            <binding>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
                    <valueString value="MedicationCode"/>
                </extension>
                <strength value="example"/>
                <description
                    value="A coded concept identifying which substance or product can be dispensed."/>
                <valueSet value="http://hl7.org/fhir/ValueSet/medication-codes"/>
            </binding>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="CE/CNE/CWE"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="CD"/>
            </mapping>
            <mapping>
                <identity value="orim"/>
                <map value="fhir:CodeableConcept rdfs:subClassOf dt:CD"/>
            </mapping>
            <mapping>
                <identity value="workflow"/>
                <map value="Event.code"/>
            </mapping>
            <mapping>
                <identity value="w5"/>
                <map value="FiveWs.what[x]"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="RXD-2-Dispense/Give Code"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value=".participation[typeCode=PRD].role"/>
            </mapping>
            <mapping>
                <identity value="rx-dispense-rmim"/>
                <map value="CombinedMedicationRequest.component1.AdministrationRequest.consumable"/>
            </mapping>
        </element>
        <element id="MedicationDispense.medication[x]:medicationReference">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.medication[x]"/>
            <sliceName value="medicationReference"/>
            <short value="MedicineForAdministrationAgreement"/>
            <definition value="Medicine in the AdministrationAgreement."/>
            <comment
                value="If only a code is specified, then it needs to be a code for a specific product. If more information is required, then the use of the medication resource is recommended.  For example, if you require form or lot number, then you must reference the Medication resource."/>
            <alias value="GeneesmiddelBijToedieningsAfspraak"/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.medication[x]"/>
                <min value="1"/>
                <max value="1"/>
            </base>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Medication"/>
                <targetProfile
                    value="http://nictiz.nl/fhir/StructureDefinition/zib-PharmaceuticalProduct"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <isSummary value="true"/>
            <binding>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
                    <valueString value="MedicationCode"/>
                </extension>
                <strength value="example"/>
                <description
                    value="A coded concept identifying which substance or product can be dispensed."/>
                <valueSet value="http://hl7.org/fhir/ValueSet/medication-codes"/>
            </binding>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="CE/CNE/CWE"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="CD"/>
            </mapping>
            <mapping>
                <identity value="orim"/>
                <map value="fhir:CodeableConcept rdfs:subClassOf dt:CD"/>
            </mapping>
            <mapping>
                <identity value="workflow"/>
                <map value="Event.code"/>
            </mapping>
            <mapping>
                <identity value="w5"/>
                <map value="FiveWs.what[x]"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="RXD-2-Dispense/Give Code"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value=".participation[typeCode=PRD].role"/>
            </mapping>
            <mapping>
                <identity value="rx-dispense-rmim"/>
                <map value="CombinedMedicationRequest.component1.AdministrationRequest.consumable"/>
            </mapping>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.20237"/>
                <comment value="MedicineForAdministrationAgreement"/>
            </mapping>
        </element>
        <element id="MedicationDispense.subject">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.subject"/>
            <short value="Who the dispense is for"/>
            <definition
                value="A link to a resource representing the person or the group to whom the medication will be given."/>
            <comment value="SubstanceAdministration-&gt;subject-&gt;Patient."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.subject"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Patient"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Group"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ref-1"/>
                <severity value="error"/>
                <human value="SHALL have a contained resource if a local reference is provided"/>
                <expression
                    value="reference.startsWith('#').not() or (reference.substring(1).trace('url') in %rootResource.contained.id.trace('ids'))"/>
                <xpath
                    value="not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Reference"/>
            </constraint>
            <isSummary value="true"/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value="The target of a resource reference is a RIM entry point (Act, Role, or Entity)"
                />
            </mapping>
            <mapping>
                <identity value="workflow"/>
                <map value="Event.subject"/>
            </mapping>
            <mapping>
                <identity value="w5"/>
                <map value="FiveWs.subject[x]"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="PID-3-Patient ID List"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value=".participation[typeCode=SBJ].role[classCode=PAT]"/>
            </mapping>
            <mapping>
                <identity value="w5"/>
                <map value="FiveWs.subject"/>
            </mapping>
        </element>
        <element id="MedicationDispense.context">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.context"/>
            <short value="Encounter / Episode associated with event"/>
            <definition
                value="The encounter or episode of care that establishes the context for this event."/>
            <comment
                value="References SHALL be a reference to an actual FHIR resource, and SHALL be resolveable (allowing for access control, temporary unavailability, etc.). Resolution can be either by retrieval from the URL, or, where applicable by resource type, by treating an absolute reference as a canonical URL and looking it up in a local registry/repository."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.context"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Encounter"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/EpisodeOfCare"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ref-1"/>
                <severity value="error"/>
                <human value="SHALL have a contained resource if a local reference is provided"/>
                <expression
                    value="reference.startsWith('#').not() or (reference.substring(1).trace('url') in %rootResource.contained.id.trace('ids'))"/>
                <xpath
                    value="not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Reference"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value="The target of a resource reference is a RIM entry point (Act, Role, or Entity)"
                />
            </mapping>
            <mapping>
                <identity value="workflow"/>
                <map value="Event.context"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value=".inboundRelationship[typeCode=COMP].source[classCode=ENC, moodCode=EVN, code=&quot;type of encounter or episode&quot;]"
                />
            </mapping>
        </element>
        <element id="MedicationDispense.supportingInformation">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.supportingInformation"/>
            <short value="Information that supports the dispensing of the medication"/>
            <definition value="Additional information that supports the medication being dispensed."/>
            <comment
                value="References SHALL be a reference to an actual FHIR resource, and SHALL be resolveable (allowing for access control, temporary unavailability, etc.). Resolution can be either by retrieval from the URL, or, where applicable by resource type, by treating an absolute reference as a canonical URL and looking it up in a local registry/repository."/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="MedicationDispense.supportingInformation"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Resource"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ref-1"/>
                <severity value="error"/>
                <human value="SHALL have a contained resource if a local reference is provided"/>
                <expression
                    value="reference.startsWith('#').not() or (reference.substring(1).trace('url') in %rootResource.contained.id.trace('ids'))"/>
                <xpath
                    value="not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Reference"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value="The target of a resource reference is a RIM entry point (Act, Role, or Entity)"
                />
            </mapping>
            <mapping>
                <identity value="w5"/>
                <map value="FiveWs.context"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value=".outboundRelationship[typeCode=PERT].target[A_SupportingClinicalStatement CMET minimal with many different choices of classCodes(ORG, ENC, PROC, SPLY, SBADM, OBS) and each of the act class codes draws from one or more of the following moodCodes (EVN, DEF, INT PRMS, RQO, PRP, APT, ARQ, GOL)]"
                />
            </mapping>
        </element>
        <element id="MedicationDispense.performer">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.performer"/>
            <short value="Who performed event"/>
            <definition value="Indicates who or what performed the event."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.performer"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="BackboneElement"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="workflow"/>
                <map value="Event.performer"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value=".participation[typeCode=PRF]"/>
            </mapping>
        </element>
        <element id="MedicationDispense.performer.id">
            <path value="MedicationDispense.performer.id"/>
            <representation value="xmlAttr"/>
            <short value="Unique id for inter-element referencing"/>
            <definition
                value="Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="Element.id"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
                    <valueUrl value="string"/>
                </extension>
                <code value="http://hl7.org/fhirpath/System.String"/>
            </type>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
        </element>
        <element id="MedicationDispense.performer.extension">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.performer.extension"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="url"/>
                </discriminator>
                <description value="Extensions are always sliced by (at least) url"/>
                <rules value="open"/>
            </slicing>
            <short value="Additional content defined by implementations"/>
            <definition
                value="May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
            <comment
                value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="Element.extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ext-1"/>
                <severity value="error"/>
                <human value="Must have either extensions or value[x], not both"/>
                <expression value="extension.exists() != value.exists()"/>
                <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.performer.modifierExtension">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.performer.modifierExtension"/>
            <short value="Extensions that cannot be ignored even if unrecognized"/>
            <definition
                value="May be used to represent additional information that is not part of the basic definition of the element and that modifies the understanding of the element in which it is contained and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.&#xA;&#xA;Modifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself)."/>
            <comment
                value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <requirements
                value="Modifier extensions allow for extensions that *cannot* be safely ignored to be clearly distinguished from the vast majority of extensions which can be safely ignored.  This promotes interoperability by eliminating the need for implementers to prohibit the presence of extensions. For further information, see the [definition of modifier extensions](extensibility.html#modifierExtension)."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <alias value="modifiers"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="BackboneElement.modifierExtension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ext-1"/>
                <severity value="error"/>
                <human value="Must have either extensions or value[x], not both"/>
                <expression value="extension.exists() != value.exists()"/>
                <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <isModifier value="true"/>
            <isModifierReason
                value="Modifier extensions are expected to modify the meaning or interpretation of the element that contains them"/>
            <isSummary value="true"/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.performer.function">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.performer.function"/>
            <short value="Who performed the dispense and what they did"/>
            <definition
                value="Distinguishes the type of performer in the dispense.  For example, date enterer, packager, final checker."/>
            <comment
                value="Not all terminology uses fit this general pattern. In some cases, models should not use CodeableConcept and use Coding directly and provide their own structure for managing text, codings, translations and the relationship between elements and pre- and post-coordination."/>
            <requirements
                value="Allows disambiguation of the types of involvement of different performers."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.performer.function"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="CodeableConcept"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <binding>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
                    <valueString value="MedicationDispensePerformerFunction"/>
                </extension>
                <strength value="example"/>
                <description
                    value="A code describing the role an individual played in dispensing a medication."/>
                <valueSet value="http://hl7.org/fhir/ValueSet/medicationdispense-performer-function"
                />
            </binding>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="CE/CNE/CWE"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="CD"/>
            </mapping>
            <mapping>
                <identity value="orim"/>
                <map value="fhir:CodeableConcept rdfs:subClassOf dt:CD"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="participation[typeCode=PRF].functionCode"/>
            </mapping>
        </element>
        <element id="MedicationDispense.performer.actor">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.performer.actor"/>
            <short value="Supplier"/>
            <definition value="The supplier (pharmacist) that entered the administration agreement."/>
            <comment
                value="References SHALL be a reference to an actual FHIR resource, and SHALL be resolveable (allowing for access control, temporary unavailability, etc.). Resolution can be either by retrieval from the URL, or, where applicable by resource type, by treating an absolute reference as a canonical URL and looking it up in a local registry/repository."/>
            <alias value="Verstrekker"/>
            <min value="1"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.performer.actor"/>
                <min value="1"/>
                <max value="1"/>
            </base>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Practitioner"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/PractitionerRole"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Organization"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Patient"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Device"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/RelatedPerson"/>
                <targetProfile
                    value="http://nictiz.nl/fhir/StructureDefinition/zib-HealthcareProvider-Organization"
                />
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ref-1"/>
                <severity value="error"/>
                <human value="SHALL have a contained resource if a local reference is provided"/>
                <expression
                    value="reference.startsWith('#').not() or (reference.substring(1).trace('url') in %rootResource.contained.id.trace('ids'))"/>
                <xpath
                    value="not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Reference"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value="The target of a resource reference is a RIM entry point (Act, Role, or Entity)"
                />
            </mapping>
            <mapping>
                <identity value="workflow"/>
                <map value="Event.performer.actor"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value=".role"/>
            </mapping>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.22097"/>
                <comment value="Supplier"/>
            </mapping>
        </element>
        <element id="MedicationDispense.location">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.location"/>
            <short value="Where the dispense occurred"/>
            <definition value="The principal physical location where the dispense was performed."/>
            <comment
                value="References SHALL be a reference to an actual FHIR resource, and SHALL be resolveable (allowing for access control, temporary unavailability, etc.). Resolution can be either by retrieval from the URL, or, where applicable by resource type, by treating an absolute reference as a canonical URL and looking it up in a local registry/repository."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.location"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Location"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ref-1"/>
                <severity value="error"/>
                <human value="SHALL have a contained resource if a local reference is provided"/>
                <expression
                    value="reference.startsWith('#').not() or (reference.substring(1).trace('url') in %rootResource.contained.id.trace('ids'))"/>
                <xpath
                    value="not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Reference"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value="The target of a resource reference is a RIM entry point (Act, Role, or Entity)"
                />
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value=".participation[typeCode=LOC].role"/>
            </mapping>
        </element>
        <element id="MedicationDispense.authorizingPrescription">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.authorizingPrescription"/>
            <short value="MedicationAgreement"/>
            <definition
                value="Relationship to the medication agreement on which the administration agreement is based."/>
            <comment value="Maps to basedOn in Event logical model."/>
            <alias value="Medicatieafspraak"/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.authorizingPrescription"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/MedicationRequest"/>
                <targetProfile
                    value="http://nictiz.nl/fhir/StructureDefinition/zib-MedicationAgreement"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ref-1"/>
                <severity value="error"/>
                <human value="SHALL have a contained resource if a local reference is provided"/>
                <expression
                    value="reference.startsWith('#').not() or (reference.substring(1).trace('url') in %rootResource.contained.id.trace('ids'))"/>
                <xpath
                    value="not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Reference"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value="The target of a resource reference is a RIM entry point (Act, Role, or Entity)"
                />
            </mapping>
            <mapping>
                <identity value="workflow"/>
                <map value="Event.basedOn"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="ORC-2 Placer Order Number"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value=".outboundRelationship[typeCode=FLFS].target[moodCode=RQO]"/>
            </mapping>
            <mapping>
                <identity value="rx-dispense-rmim"/>
                <map value="CombinedMedicationDispense.inFulfillmentOf"/>
            </mapping>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.22394"/>
                <comment value="MedicationAgreement"/>
            </mapping>
        </element>
        <element id="MedicationDispense.type">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.type"/>
            <short value="Trial fill, partial fill, emergency fill, etc."/>
            <definition
                value="Indicates the type of dispensing event that is performed. For example, Trial Fill, Completion of Trial, Partial Fill, Emergency Fill, Samples, etc."/>
            <comment
                value="Not all terminology uses fit this general pattern. In some cases, models should not use CodeableConcept and use Coding directly and provide their own structure for managing text, codings, translations and the relationship between elements and pre- and post-coordination."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.type"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="CodeableConcept"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <binding>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
                    <valueString value="MedicationDispenseType"/>
                </extension>
                <strength value="example"/>
                <description
                    value="Indicates the type of dispensing event that is performed. For example, Trial Fill, Completion of Trial, Partial Fill, Emergency Fill, Samples, etc."/>
                <valueSet value="http://terminology.hl7.org/ValueSet/v3-ActPharmacySupplyType"/>
            </binding>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="CE/CNE/CWE"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="CD"/>
            </mapping>
            <mapping>
                <identity value="orim"/>
                <map value="fhir:CodeableConcept rdfs:subClassOf dt:CD"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="RXD-33-Dispense Type"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value=".code"/>
            </mapping>
            <mapping>
                <identity value="rx-dispense-rmim"/>
                <map value="CombinedMedicationDispense.SupplyEvent.code"/>
            </mapping>
        </element>
        <element id="MedicationDispense.quantity">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.quantity"/>
            <short value="Amount dispensed"/>
            <definition
                value="The amount of medication that has been dispensed. Includes unit of measure."/>
            <comment
                value="The context of use may frequently define what kind of quantity this is and therefore what kind of units can be used. The context of use may also restrict the values for the comparator."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.quantity"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="Quantity"/>
                <profile value="http://hl7.org/fhir/StructureDefinition/SimpleQuantity"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="qty-3"/>
                <severity value="error"/>
                <human value="If a code for the unit is present, the system SHALL also be present"/>
                <expression value="code.empty() or system.exists()"/>
                <xpath value="not(exists(f:code)) or exists(f:system)"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Quantity"/>
            </constraint>
            <constraint>
                <key value="sqty-1"/>
                <severity value="error"/>
                <human value="The comparator is not used on a SimpleQuantity"/>
                <expression value="comparator.empty()"/>
                <xpath value="not(exists(f:comparator))"/>
                <source value="http://hl7.org/fhir/StructureDefinition/MedicationDispense"/>
            </constraint>
            <isModifier value="false"/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="SN (see also Range) or CQ"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="PQ, IVL&lt;PQ&gt;, MO, CO, depending on the values"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map
                    value="RXD-4-Actual Dispense Amount / RXD-5.1-Actual Dispense Units.code / RXD-5.3-Actual Dispense Units.name of coding system"
                />
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value=".quantity"/>
            </mapping>
            <mapping>
                <identity value="rx-dispense-rmim"/>
                <map value="CombinedMedicationDispense.SupplyEvent.quantity"/>
            </mapping>
        </element>
        <element id="MedicationDispense.daysSupply">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.daysSupply"/>
            <short value="Amount of medication expressed as a timing amount"/>
            <definition value="The amount of medication expressed as a timing amount."/>
            <comment
                value="The context of use may frequently define what kind of quantity this is and therefore what kind of units can be used. The context of use may also restrict the values for the comparator."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.daysSupply"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="Quantity"/>
                <profile value="http://hl7.org/fhir/StructureDefinition/SimpleQuantity"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="qty-3"/>
                <severity value="error"/>
                <human value="If a code for the unit is present, the system SHALL also be present"/>
                <expression value="code.empty() or system.exists()"/>
                <xpath value="not(exists(f:code)) or exists(f:system)"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Quantity"/>
            </constraint>
            <constraint>
                <key value="sqty-1"/>
                <severity value="error"/>
                <human value="The comparator is not used on a SimpleQuantity"/>
                <expression value="comparator.empty()"/>
                <xpath value="not(exists(f:comparator))"/>
                <source value="http://hl7.org/fhir/StructureDefinition/MedicationDispense"/>
            </constraint>
            <isModifier value="false"/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="SN (see also Range) or CQ"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="PQ, IVL&lt;PQ&gt;, MO, CO, depending on the values"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map
                    value="TQ1.6 Timing/Quantity Segment Service Duration.&#xD;Prior to v2.5, ORC.7.3 Common Order Segment / Quantity/Timing / Duration component.  This is a formatted string, first character for the time unit (e.g., D=days), followed by the value.  For example, “D14” represents “14 days supply”&#xD;From v2.5 on, TQ1.6 Timing/Quantity Segment / Service Duration.  This is a CQ data type (&lt;Quantity (NM)&gt; ^ &lt;Units (CWE)&gt;), thus for days supply, assuming the unit of measure is “days”, the numeric value is TQ1.6.1 (…|14^&#xD;For backwards compatibility, ORC.7 was permitted through v2.6.  Both forms (field and segment) may be present in v2.5, v2.5.1, and v2.6"
                />
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="effectiveUseTime"/>
            </mapping>
        </element>
        <element id="MedicationDispense.whenPrepared">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.whenPrepared"/>
            <short value="When product was packaged and reviewed"/>
            <definition value="The time when the dispensed product was packaged and reviewed."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.whenPrepared"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="dateTime"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <isSummary value="true"/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="RXD-3-Date/Time Dispensed"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value=".effectiveTime[xmi:type=IVL_TS].low"/>
            </mapping>
            <mapping>
                <identity value="rx-dispense-rmim"/>
                <map value="CombinedMedicationDispense.SupplyEvent.effectiveTime"/>
            </mapping>
        </element>
        <element id="MedicationDispense.whenHandedOver">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.whenHandedOver"/>
            <short value="When product was given out"/>
            <definition
                value="The time the dispensed product was provided to the patient or their representative."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.whenHandedOver"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="dateTime"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="workflow"/>
                <map value="Event.occurrence[x]"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="RXD-3-Date/Time Dispensed"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value=".effectiveTime[xmi:type=IVL_TS].high"/>
            </mapping>
            <mapping>
                <identity value="rx-dispense-rmim"/>
                <map value="CombinedMedicationDispense.SupplyEvent.effectiveTime"/>
            </mapping>
        </element>
        <element id="MedicationDispense.destination">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.destination"/>
            <short value="Where the medication was sent"/>
            <definition
                value="Identification of the facility/location where the medication was shipped to, as part of the dispense event."/>
            <comment
                value="References SHALL be a reference to an actual FHIR resource, and SHALL be resolveable (allowing for access control, temporary unavailability, etc.). Resolution can be either by retrieval from the URL, or, where applicable by resource type, by treating an absolute reference as a canonical URL and looking it up in a local registry/repository."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.destination"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Location"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ref-1"/>
                <severity value="error"/>
                <human value="SHALL have a contained resource if a local reference is provided"/>
                <expression
                    value="reference.startsWith('#').not() or (reference.substring(1).trace('url') in %rootResource.contained.id.trace('ids'))"/>
                <xpath
                    value="not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Reference"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value="The target of a resource reference is a RIM entry point (Act, Role, or Entity)"
                />
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map
                    value="RXD-13 Dispense-to Location; RXD-30 Dispense to Pharmacy; RXD-31 Dispense to Pharmacy Address"
                />
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value=".participation[typeCode=DST].role"/>
            </mapping>
            <mapping>
                <identity value="rx-dispense-rmim"/>
                <map value="CombinedMedicationDispense.SupplyEvent.destination"/>
            </mapping>
        </element>
        <element id="MedicationDispense.receiver">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.receiver"/>
            <short value="Who collected the medication"/>
            <definition
                value="Identifies the person who picked up the medication.  This will usually be a patient or their caregiver, but some cases exist where it can be a healthcare professional."/>
            <comment
                value="References SHALL be a reference to an actual FHIR resource, and SHALL be resolveable (allowing for access control, temporary unavailability, etc.). Resolution can be either by retrieval from the URL, or, where applicable by resource type, by treating an absolute reference as a canonical URL and looking it up in a local registry/repository."/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="MedicationDispense.receiver"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Patient"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Practitioner"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ref-1"/>
                <severity value="error"/>
                <human value="SHALL have a contained resource if a local reference is provided"/>
                <expression
                    value="reference.startsWith('#').not() or (reference.substring(1).trace('url') in %rootResource.contained.id.trace('ids'))"/>
                <xpath
                    value="not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Reference"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value="The target of a resource reference is a RIM entry point (Act, Role, or Entity)"
                />
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value=".participation[typeCode=RCV].role"/>
            </mapping>
            <mapping>
                <identity value="rx-dispense-rmim"/>
                <map value="CombinedMedicationDispense.SupplyEvent.receiver"/>
            </mapping>
        </element>
        <element id="MedicationDispense.note">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.note"/>
            <short value="Information about the dispense"/>
            <definition
                value="Extra information about the dispense that could not be conveyed in the other attributes."/>
            <comment
                value="For systems that do not have structured annotations, they can simply communicate a single annotation with no author or time.  This element may need to be included in narrative because of the potential for modifying information.  *Annotations SHOULD NOT* be used to communicate &quot;modifying&quot; information that could be computable. (This is a SHOULD because enforcing user behavior is nearly impossible)."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.note"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Annotation"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="N/A"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="Act"/>
            </mapping>
            <mapping>
                <identity value="workflow"/>
                <map value="Event.note"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="RXD-9 Dispense Notes"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value=".inboundRelationship[typeCode=SUBJ]/source[classCode=ACT,moodCode=EVN]"
                />
            </mapping>
        </element>
        <element id="MedicationDispense.note.id">
            <path value="MedicationDispense.note.id"/>
            <representation value="xmlAttr"/>
            <short value="Unique id for inter-element referencing"/>
            <definition
                value="Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="Element.id"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
                    <valueUrl value="string"/>
                </extension>
                <code value="http://hl7.org/fhirpath/System.String"/>
            </type>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
        </element>
        <element id="MedicationDispense.note.extension">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.note.extension"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="url"/>
                </discriminator>
                <description value="Extensions are always sliced by (at least) url"/>
                <rules value="open"/>
            </slicing>
            <short value="Additional content defined by implementations"/>
            <definition
                value="May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
            <comment
                value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="Element.extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ext-1"/>
                <severity value="error"/>
                <human value="Must have either extensions or value[x], not both"/>
                <expression value="extension.exists() != value.exists()"/>
                <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.note.author[x]">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.note.author[x]"/>
            <short value="Individual responsible for the annotation"/>
            <definition value="The individual responsible for making the annotation."/>
            <comment
                value="Organization is used when there's no need for specific attribution as to who made the comment."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="Annotation.author[x]"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Practitioner"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Patient"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/RelatedPerson"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Organization"/>
            </type>
            <type>
                <code value="string"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ref-1"/>
                <severity value="error"/>
                <human value="SHALL have a contained resource if a local reference is provided"/>
                <expression
                    value="reference.startsWith('#').not() or (reference.substring(1).trace('url') in %rootResource.contained.id.trace('ids'))"/>
                <xpath
                    value="not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Reference"/>
            </constraint>
            <isSummary value="true"/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value="The target of a resource reference is a RIM entry point (Act, Role, or Entity)"
                />
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="N/A"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="Act.participant[typeCode=AUT].role"/>
            </mapping>
        </element>
        <element id="MedicationDispense.note.time">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.note.time"/>
            <short value="When the annotation was made"/>
            <definition value="Indicates when this particular annotation was made."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="Annotation.time"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="dateTime"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <isSummary value="true"/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="N/A"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="Act.effectiveTime"/>
            </mapping>
        </element>
        <element id="MedicationDispense.note.text">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.note.text"/>
            <short value="Comment"/>
            <definition value="Comments on the administration agreement."/>
            <comment
                value="Systems are not required to have markdown support, so the text should be readable without markdown processing. The markdown syntax is GFM - see https://github.github.com/gfm/"/>
            <alias value="Toelichting"/>
            <min value="1"/>
            <max value="1"/>
            <base>
                <path value="Annotation.text"/>
                <min value="1"/>
                <max value="1"/>
            </base>
            <type>
                <code value="markdown"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <isSummary value="true"/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="N/A"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="Act.text"/>
            </mapping>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.22275"/>
                <comment value="Comment"/>
            </mapping>
        </element>
        <element id="MedicationDispense.dosageInstruction">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="trial-use"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.dosageInstruction"/>
            <short value="DosingInstructions / InstructionsForUse"/>
            <definition
                value="Instructions for administering the medication, e.g. dose and route of administration."/>
            <comment
                value="This element _mostly_ represents the DosingInstructions container from zib InstructionsForUse, but also includes the AdditionalInstructions and RouteOfAdministration concepts, which are normally placed on the same level as this container. As a result, these concepts are **duplicated** in every repetition of this element, even though these concepts should be present just once according to the zib.&#xD;&#xA;&#xD;&#xA;This element does not contain a mapping to the Dosage container from zib InstructionsForUse. However, the child concepts of Dosage are all mapped. Multiple Dosage instances are represented by another DosingInstructions that contains a similiar SequenceNumber."/>
            <alias value="Doseerinstructie"/>
            <alias value="Gebruiksinstructie"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="MedicationDispense.dosageInstruction"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Dosage"/>
                <profile
                    value="http://nictiz.nl/fhir/StructureDefinition/zib-InstructionsForUse.DosageInstructions"
                />
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value=".outboundRelationship[typeCode=COMP].target[classCode=SBADM, moodCode=INT]"
                />
            </mapping>
            <mapping>
                <identity value="zib-instructionsforuse-v1.2.1-2020EN"/>
                <map value="NL-CM:9.12.22095"/>
                <comment value="DosingInstructions"/>
            </mapping>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.22098"/>
                <comment value="InstructionsForUse"/>
            </mapping>
        </element>
        <element id="MedicationDispense.substitution">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.substitution"/>
            <short value="Whether a substitution was performed on the dispense"/>
            <definition
                value="Indicates whether or not substitution was made as part of the dispense.  In some cases, substitution will be expected but does not happen, in other cases substitution is not expected but does happen.  This block explains what substitution did or did not happen and why.  If nothing is specified, substitution was not done."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.substitution"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="BackboneElement"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value=".outboundRelationship[typeCode=COMP].target[classCode=SUBST, moodCode=EVN]"
                />
            </mapping>
            <mapping>
                <identity value="rx-dispense-rmim"/>
                <map value="CombinedMedicationDispense.substitutionMade"/>
            </mapping>
        </element>
        <element id="MedicationDispense.substitution.id">
            <path value="MedicationDispense.substitution.id"/>
            <representation value="xmlAttr"/>
            <short value="Unique id for inter-element referencing"/>
            <definition
                value="Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="Element.id"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type">
                    <valueUrl value="string"/>
                </extension>
                <code value="http://hl7.org/fhirpath/System.String"/>
            </type>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
        </element>
        <element id="MedicationDispense.substitution.extension">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.substitution.extension"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="url"/>
                </discriminator>
                <description value="Extensions are always sliced by (at least) url"/>
                <rules value="open"/>
            </slicing>
            <short value="Additional content defined by implementations"/>
            <definition
                value="May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension."/>
            <comment
                value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="Element.extension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ext-1"/>
                <severity value="error"/>
                <human value="Must have either extensions or value[x], not both"/>
                <expression value="extension.exists() != value.exists()"/>
                <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.substitution.modifierExtension">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.substitution.modifierExtension"/>
            <short value="Extensions that cannot be ignored even if unrecognized"/>
            <definition
                value="May be used to represent additional information that is not part of the basic definition of the element and that modifies the understanding of the element in which it is contained and/or the understanding of the containing element's descendants. Usually modifier elements provide negation or qualification. To make the use of extensions safe and manageable, there is a strict set of governance applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension. Applications processing a resource are required to check for modifier extensions.&#xA;&#xA;Modifier extensions SHALL NOT change the meaning of any elements on Resource or DomainResource (including cannot change the meaning of modifierExtension itself)."/>
            <comment
                value="There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone."/>
            <requirements
                value="Modifier extensions allow for extensions that *cannot* be safely ignored to be clearly distinguished from the vast majority of extensions which can be safely ignored.  This promotes interoperability by eliminating the need for implementers to prohibit the presence of extensions. For further information, see the [definition of modifier extensions](extensibility.html#modifierExtension)."/>
            <alias value="extensions"/>
            <alias value="user content"/>
            <alias value="modifiers"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="BackboneElement.modifierExtension"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Extension"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ext-1"/>
                <severity value="error"/>
                <human value="Must have either extensions or value[x], not both"/>
                <expression value="extension.exists() != value.exists()"/>
                <xpath value="exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <isModifier value="true"/>
            <isModifierReason
                value="Modifier extensions are expected to modify the meaning or interpretation of the element that contains them"/>
            <isSummary value="true"/>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="N/A"/>
            </mapping>
        </element>
        <element id="MedicationDispense.substitution.wasSubstituted">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.substitution.wasSubstituted"/>
            <short value="Whether a substitution was or was not performed on the dispense"/>
            <definition
                value="True if the dispenser dispensed a different drug or product from what was prescribed."/>
            <min value="1"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.substitution.wasSubstituted"/>
                <min value="1"/>
                <max value="1"/>
            </base>
            <type>
                <code value="boolean"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value=".actionNegationInd"/>
            </mapping>
        </element>
        <element id="MedicationDispense.substitution.type">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.substitution.type"/>
            <short
                value="Code signifying whether a different drug was dispensed from what was prescribed"/>
            <definition
                value="A code signifying whether a different drug was dispensed from what was prescribed."/>
            <comment
                value="Not all terminology uses fit this general pattern. In some cases, models should not use CodeableConcept and use Coding directly and provide their own structure for managing text, codings, translations and the relationship between elements and pre- and post-coordination."/>
            <min value="0"/>
            <max value="1"/>
            <base>
                <path value="MedicationDispense.substitution.type"/>
                <min value="0"/>
                <max value="1"/>
            </base>
            <type>
                <code value="CodeableConcept"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <binding>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
                    <valueString value="MedicationIntendedSubstitutionType"/>
                </extension>
                <strength value="example"/>
                <description
                    value="A coded concept describing whether a different medicinal product may be dispensed other than the product as specified exactly in the prescription."/>
                <valueSet
                    value="http://terminology.hl7.org/ValueSet/v3-ActSubstanceAdminSubstitutionCode"
                />
            </binding>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="CE/CNE/CWE"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="CD"/>
            </mapping>
            <mapping>
                <identity value="orim"/>
                <map value="fhir:CodeableConcept rdfs:subClassOf dt:CD"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="RXO-9-Allow Substitutions / RXE-9-Substitution Status"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value=".code"/>
            </mapping>
            <mapping>
                <identity value="rx-dispense-rmim"/>
                <map value="CombinedMedicationDispense.substitutionMade.code"/>
            </mapping>
        </element>
        <element id="MedicationDispense.substitution.reason">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.substitution.reason"/>
            <short value="Why was substitution made"/>
            <definition
                value="Indicates the reason for the substitution (or lack of substitution) from what was prescribed."/>
            <comment
                value="Not all terminology uses fit this general pattern. In some cases, models should not use CodeableConcept and use Coding directly and provide their own structure for managing text, codings, translations and the relationship between elements and pre- and post-coordination."/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="MedicationDispense.substitution.reason"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="CodeableConcept"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <binding>
                <extension
                    url="http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName">
                    <valueString value="MedicationIntendedSubstitutionReason"/>
                </extension>
                <strength value="example"/>
                <description
                    value="A coded concept describing the reason that a different medication should (or should not) be substituted from what was prescribed."/>
                <valueSet
                    value="http://terminology.hl7.org/ValueSet/v3-SubstanceAdminSubstitutionReason"
                />
            </binding>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="v2"/>
                <map value="CE/CNE/CWE"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value="CD"/>
            </mapping>
            <mapping>
                <identity value="orim"/>
                <map value="fhir:CodeableConcept rdfs:subClassOf dt:CD"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value=".reasonCode"/>
            </mapping>
            <mapping>
                <identity value="rx-dispense-rmim"/>
                <map value="CombinedMedicationDispense.substitutionMade.reasonCode"/>
            </mapping>
        </element>
        <element id="MedicationDispense.substitution.responsibleParty">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.substitution.responsibleParty"/>
            <short value="Who is responsible for the substitution"/>
            <definition
                value="The person or organization that has primary responsibility for the substitution."/>
            <comment
                value="References SHALL be a reference to an actual FHIR resource, and SHALL be resolveable (allowing for access control, temporary unavailability, etc.). Resolution can be either by retrieval from the URL, or, where applicable by resource type, by treating an absolute reference as a canonical URL and looking it up in a local registry/repository."/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="MedicationDispense.substitution.responsibleParty"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Practitioner"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/PractitionerRole"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ref-1"/>
                <severity value="error"/>
                <human value="SHALL have a contained resource if a local reference is provided"/>
                <expression
                    value="reference.startsWith('#').not() or (reference.substring(1).trace('url') in %rootResource.contained.id.trace('ids'))"/>
                <xpath
                    value="not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Reference"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value="The target of a resource reference is a RIM entry point (Act, Role, or Entity)"
                />
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map value=".participation[typeCode=PFM].role[classCode=ASSIGN]"/>
            </mapping>
            <mapping>
                <identity value="rx-dispense-rmim"/>
                <map value="CombinedMedicationDispense.substitutionMade.ResponsibleParty"/>
            </mapping>
        </element>
        <element id="MedicationDispense.detectedIssue">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.detectedIssue"/>
            <short value="Clinical issue with action"/>
            <definition
                value="Indicates an actual or potential clinical issue with or between one or more active or proposed clinical actions for a patient; e.g. drug-drug interaction, duplicate therapy, dosage alert etc."/>
            <comment
                value="This element can include a detected issue that has been identified either by a decision support system or by a clinician and may include information on the steps that were taken to address the issue."/>
            <alias value="Contraindication"/>
            <alias value="Drug Utilization Review (DUR)"/>
            <alias value="Alert"/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="MedicationDispense.detectedIssue"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/DetectedIssue"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ref-1"/>
                <severity value="error"/>
                <human value="SHALL have a contained resource if a local reference is provided"/>
                <expression
                    value="reference.startsWith('#').not() or (reference.substring(1).trace('url') in %rootResource.contained.id.trace('ids'))"/>
                <xpath
                    value="not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Reference"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value="The target of a resource reference is a RIM entry point (Act, Role, or Entity)"
                />
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value=".inboundRelationship[typeCode=SUBJ]/source[classCode=ALRT,moodCode=EVN].value"
                />
            </mapping>
        </element>
        <element id="MedicationDispense.eventHistory">
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status">
                <valueCode value="normative"/>
            </extension>
            <extension
                url="http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version">
                <valueCode value="4.0.0"/>
            </extension>
            <path value="MedicationDispense.eventHistory"/>
            <short value="A list of relevant lifecycle events"/>
            <definition
                value="A summary of the events of interest that have occurred, such as when the dispense was verified."/>
            <comment
                value="This might not include provenances for all versions of the request – only those deemed “relevant” or important. This SHALL NOT include the Provenance associated with this current version of the resource. (If that provenance is deemed to be a “relevant” change, it will need to be added as part of a later update. Until then, it can be queried directly as the Provenance that points to this version using _revinclude All Provenances should have some historical version of this Request as their subject.)."/>
            <min value="0"/>
            <max value="*"/>
            <base>
                <path value="MedicationDispense.eventHistory"/>
                <min value="0"/>
                <max value="*"/>
            </base>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Provenance"/>
            </type>
            <condition value="ele-1"/>
            <constraint>
                <key value="ele-1"/>
                <severity value="error"/>
                <human value="All FHIR elements must have a @value or children"/>
                <expression value="hasValue() or (children().count() &gt; id.count())"/>
                <xpath value="@value|f:*|h:div"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Element"/>
            </constraint>
            <constraint>
                <key value="ref-1"/>
                <severity value="error"/>
                <human value="SHALL have a contained resource if a local reference is provided"/>
                <expression
                    value="reference.startsWith('#').not() or (reference.substring(1).trace('url') in %rootResource.contained.id.trace('ids'))"/>
                <xpath
                    value="not(starts-with(f:reference/@value, '#')) or exists(ancestor::*[self::f:entry or self::f:parameter]/f:resource/f:*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')]|/*/f:contained/f:*[f:id/@value=substring-after(current()/f:reference/@value, '#')])"/>
                <source value="http://hl7.org/fhir/StructureDefinition/Reference"/>
            </constraint>
            <mapping>
                <identity value="rim"/>
                <map value="n/a"/>
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value="The target of a resource reference is a RIM entry point (Act, Role, or Entity)"
                />
            </mapping>
            <mapping>
                <identity value="rim"/>
                <map
                    value=".inboundRelationship(typeCode=SUBJ].source[classCode=CACT, moodCode=EVN]"
                />
            </mapping>
        </element>
    </snapshot>
    <differential>
        <element id="MedicationDispense">
            <path value="MedicationDispense"/>
            <short value="AdministrationAgreement"/>
            <alias value="Toedieningsafspraak"/>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.20132"/>
                <comment value="AdministrationAgreement"/>
            </mapping>
        </element>
        <element id="MedicationDispense.extension">
            <path value="MedicationDispense.extension"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="url"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <min value="0"/>
        </element>
        <element id="MedicationDispense.extension:additionalInformation">
            <path value="MedicationDispense.extension"/>
            <sliceName value="additionalInformation"/>
            <min value="0"/>
            <type>
                <code value="Extension"/>
                <profile
                    value="http://nictiz.nl/fhir/StructureDefinition/ext-AdministrationAgreement.AdditionalInformation"
                />
            </type>
        </element>
        <element id="MedicationDispense.extension:agreementReason">
            <path value="MedicationDispense.extension"/>
            <sliceName value="agreementReason"/>
            <min value="0"/>
            <type>
                <code value="Extension"/>
                <profile
                    value="http://nictiz.nl/fhir/StructureDefinition/ext-AdministrationAgreement.AgreementReason"
                />
            </type>
        </element>
        <element id="MedicationDispense.extension:administrationAgreementDateTime">
            <path value="MedicationDispense.extension"/>
            <sliceName value="administrationAgreementDateTime"/>
            <min value="0"/>
            <type>
                <code value="Extension"/>
                <profile
                    value="http://nictiz.nl/fhir/StructureDefinition/ext-AdministrationAgreement.AdministrationAgreementDateTime"
                />
            </type>
        </element>
        <element id="MedicationDispense.extension:renderedDosageInstruction">
            <path value="MedicationDispense.extension"/>
            <sliceName value="renderedDosageInstruction"/>
            <min value="0"/>
            <type>
                <code value="Extension"/>
                <profile
                    value="http://nictiz.nl/fhir/StructureDefinition/ext-RenderedDosageInstruction"
                />
            </type>
        </element>
        <element id="MedicationDispense.extension:periodOfUse-Period">
            <path value="MedicationDispense.extension"/>
            <sliceName value="periodOfUse-Period"/>
            <min value="0"/>
            <max value="1"/>
            <type>
                <code value="Extension"/>
                <profile value="http://nictiz.nl/fhir/StructureDefinition/ext-TimeInterval-Period"/>
            </type>
        </element>
        <element id="MedicationDispense.extension:periodOfUse-Period.value[x]">
            <path value="MedicationDispense.extension.value[x]"/>
            <short value="PeriodOfUse"/>
            <definition
                value="**Start date**: This is the time at which the agreement was to take effect (or took effect or will take effect). This is the time at which the instructions for use in this agreement start. In the case of an agreement to discontinue use, this is the start date of the original administration agreement. The end date indicates from when the medication is to be discontinued.&#xD;&#xA;**End date**: The time at which the period of use ends (or ended or will end). In the case of an agreement to discontinue use, this is the time at which the medication is to be discontinued. To avoid confusion between 'to' and 'up to', the submission of time is always mandatory for the end date.&#xD;&#xA;&#xD;&#xA;With medication for an indefinite period only a start date is indicated."/>
            <alias value="Gebruiksperiode"/>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.22660"/>
                <comment value="PeriodOfUse"/>
            </mapping>
        </element>
        <element id="MedicationDispense.extension:periodOfUse-Duration">
            <path value="MedicationDispense.extension"/>
            <sliceName value="periodOfUse-Duration"/>
            <min value="0"/>
            <max value="1"/>
            <type>
                <code value="Extension"/>
                <profile value="http://nictiz.nl/fhir/StructureDefinition/ext-TimeInterval-Duration"
                />
            </type>
        </element>
        <element id="MedicationDispense.extension:periodOfUse-Duration.value[x]">
            <path value="MedicationDispense.extension.value[x]"/>
            <short value="Duration / PeriodOfUse"/>
            <definition
                value="**Duration**: the intended duration of use. E.g. 5 days or 8 weeks. It is not allowed to indicate the duration in months, because different months have a variable duration in days."/>
            <alias value="Gebruiksperiode"/>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.22660"/>
                <comment value="PeriodOfUse"/>
            </mapping>
        </element>
        <element id="MedicationDispense.modifierExtension">
            <path value="MedicationDispense.modifierExtension"/>
            <slicing>
                <discriminator>
                    <type value="value"/>
                    <path value="url"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
            <min value="0"/>
        </element>
        <element id="MedicationDispense.modifierExtension:stopType">
            <path value="MedicationDispense.modifierExtension"/>
            <sliceName value="stopType"/>
            <min value="0"/>
            <type>
                <code value="Extension"/>
                <profile value="http://nictiz.nl/fhir/StructureDefinition/ext-StopType"/>
            </type>
        </element>
        <element id="MedicationDispense.modifierExtension:stopType.value[x]">
            <path value="MedicationDispense.modifierExtension.value[x]"/>
            <short value="AdministrationAgreementStopType"/>
            <alias value="ToedieningsafspraakStopType"/>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.22498"/>
                <comment value="AdministrationAgreementStopType"/>
            </mapping>
        </element>
        <element id="MedicationDispense.modifierExtension:repeatPeriodCyclicalSchedule">
            <path value="MedicationDispense.modifierExtension"/>
            <sliceName value="repeatPeriodCyclicalSchedule"/>
            <min value="0"/>
            <type>
                <code value="Extension"/>
                <profile
                    value="http://nictiz.nl/fhir/StructureDefinition/ext-InstructionsForUse.RepeatPeriodCyclicalSchedule"
                />
            </type>
        </element>
        <element id="MedicationDispense.status">
            <path value="MedicationDispense.status"/>
            <short value="CanceledIndicator / PeriodOfUse"/>
            <definition
                value="A code specifying the state of the set of dispense events. In the event of an error correction, the value is set to _entered-in-error_."/>
            <comment
                value="This element is mapped to the zib concept NL-CM:9.8.23034 (CanceledIndicator) and implicitly to zib concept NL-CM:9.8.22660 (PeriodOfUse). Unless a more appropriate status is recorded, the following guidance applies:&#xD;&#xA;&#xD;&#xA;* When CanceledIndicator is _true_, `.status` will be set to _entered-in-error_.&#xD;&#xA;* When PeriodOfUse start date is in the past and PeriodOfUse end date has a value and is in the future, `.status` will usually be set to _active_.&#xD;&#xA;* When PeriodOfUse end date is present and in the past, `.status` will usually be set to _completed_.&#xD;&#xA;* When PeriodOfUse duration and start date are known, the end date can be deducted and the previous rules apply. &#xD;&#xA;* When a system is unable to infer the status from the Start and End, `.status` will be set to _unknown_. The _unknown_ code is not to be used to convey other statuses. The _unknown_ code should be used when one of the statuses applies, but the authoring system doesn't know the current state of the AdministrationAgreement."/>
            <alias value="GeannuleerdIndicator"/>
            <alias value="Gebruiksperiode"/>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.23034"/>
                <comment value="CanceledIndicator"/>
            </mapping>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.22660"/>
                <comment
                    value="PeriodOfUse (implicit, main mapping is on the extensions ext-TimeInterval-Period and ext-TimeInterval-Duration)"
                />
            </mapping>
        </element>
        <element id="MedicationDispense.category">
            <path value="MedicationDispense.category"/>
            <min value="1"/>
            <patternCodeableConcept>
                <coding>
                    <system value="http://snomed.info/sct"/>
                    <code value="422037009"/>
                </coding>
            </patternCodeableConcept>
        </element>
        <element id="MedicationDispense.medication[x]">
            <path value="MedicationDispense.medication[x]"/>
            <slicing>
                <discriminator>
                    <type value="type"/>
                    <path value="$this"/>
                </discriminator>
                <rules value="open"/>
            </slicing>
        </element>
        <element id="MedicationDispense.medication[x]:medicationReference">
            <path value="MedicationDispense.medication[x]"/>
            <sliceName value="medicationReference"/>
            <short value="MedicineForAdministrationAgreement"/>
            <definition value="Medicine in the AdministrationAgreement."/>
            <alias value="GeneesmiddelBijToedieningsAfspraak"/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Medication"/>
                <targetProfile
                    value="http://nictiz.nl/fhir/StructureDefinition/zib-PharmaceuticalProduct"/>
            </type>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.20237"/>
                <comment value="MedicineForAdministrationAgreement"/>
            </mapping>
        </element>
        <element id="MedicationDispense.performer">
            <path value="MedicationDispense.performer"/>
            <max value="1"/>
        </element>
        <element id="MedicationDispense.performer.actor">
            <path value="MedicationDispense.performer.actor"/>
            <short value="Supplier"/>
            <definition value="The supplier (pharmacist) that entered the administration agreement."/>
            <alias value="Verstrekker"/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Practitioner"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/PractitionerRole"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Organization"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Patient"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/Device"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/RelatedPerson"/>
                <targetProfile
                    value="http://nictiz.nl/fhir/StructureDefinition/zib-HealthcareProvider-Organization"
                />
            </type>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.22097"/>
                <comment value="Supplier"/>
            </mapping>
        </element>
        <element id="MedicationDispense.authorizingPrescription">
            <path value="MedicationDispense.authorizingPrescription"/>
            <short value="MedicationAgreement"/>
            <definition
                value="Relationship to the medication agreement on which the administration agreement is based."/>
            <alias value="Medicatieafspraak"/>
            <max value="1"/>
            <type>
                <code value="Reference"/>
                <targetProfile value="http://hl7.org/fhir/StructureDefinition/MedicationRequest"/>
                <targetProfile
                    value="http://nictiz.nl/fhir/StructureDefinition/zib-MedicationAgreement"/>
            </type>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.22394"/>
                <comment value="MedicationAgreement"/>
            </mapping>
        </element>
        <element id="MedicationDispense.note">
            <path value="MedicationDispense.note"/>
            <max value="1"/>
        </element>
        <element id="MedicationDispense.note.text">
            <path value="MedicationDispense.note.text"/>
            <short value="Comment"/>
            <definition value="Comments on the administration agreement."/>
            <alias value="Toelichting"/>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.22275"/>
                <comment value="Comment"/>
            </mapping>
        </element>
        <element id="MedicationDispense.dosageInstruction">
            <path value="MedicationDispense.dosageInstruction"/>
            <short value="DosingInstructions / InstructionsForUse"/>
            <definition
                value="Instructions for administering the medication, e.g. dose and route of administration."/>
            <alias value="Gebruiksinstructie"/>
            <type>
                <code value="Dosage"/>
                <profile
                    value="http://nictiz.nl/fhir/StructureDefinition/zib-InstructionsForUse.DosageInstructions"
                />
            </type>
            <mapping>
                <identity value="zib-administrationagreement-v1.0.3-2020EN"/>
                <map value="NL-CM:9.8.22098"/>
                <comment value="InstructionsForUse"/>
            </mapping>
        </element>
    </differential>
</StructureDefinition>
