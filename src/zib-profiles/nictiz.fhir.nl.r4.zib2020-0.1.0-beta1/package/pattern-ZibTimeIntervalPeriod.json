{"resourceType":"StructureDefinition","id":"pattern-ZibTimeIntervalPeriod","url":"http://nictiz.nl/fhir/StructureDefinition/pattern-ZibTimeIntervalPeriod","name":"PatternZibTimeIntervalPeriod","title":"pattern ZibTimeIntervalPeriod","status":"draft","publisher":"Nictiz","contact":[{"name":"Nictiz","telecom":[{"system":"email","value":"info@nictiz.nl","use":"work"}]}],"description":"A Period datatype profile to implement the Period half of zib TimeInterval. This datatype profile is used in various resource profiles and is never instantiated directly.","purpose":"To fully implement the Dutch [zib ('Zorginformatiebouwsteen', i.e. Health and Care Information Model) TimeInterval v1.0 (2020)](https://zibs.nl/wiki/TimeInterval-v1.0(2020EN)) within a hosting profile, it needs to have an element of type _Period_ and an element of type _Duration_. This datatype profile can be used to add the guidance and mapping for this zib to the _Period_ element.\r\n\r\nWhen no native _Period_ element exists, the <http://nictiz.nl/fhir/StructureDefinition/ext-TimeInterval-Period> extension can be added to the profile. The _Duration_ element can be added using the <http://nictiz.nl/fhir/StructureDefinition/ext-TimeInterval-Duration> extension.\r\n\r\nNote: this profile should not be used in resources that natively supports both a _Period_ and a _Duration_ element, as the guidance in this profile refers to the Duration extension profile, which is the most common pattern.","copyright":"Copyright and related rights waived via CC0, https://creativecommons.org/publicdomain/zero/1.0/. This does not apply to information from third parties, for example a medical terminology system. The implementer alone is responsible for identifying and obtaining any necessary licenses or authorizations to utilize third party IP in connection with the specification or otherwise.","fhirVersion":"4.0.1","mapping":[{"identity":"zib-timeinterval-v1.0-2020EN","uri":"https://zibs.nl/wiki/TimeInterval-v1.0(2020EN)","name":"zib TimeInterval-v1.0(2020EN)"}],"kind":"complex-type","abstract":false,"type":"Period","baseDefinition":"http://hl7.org/fhir/StructureDefinition/Period","derivation":"constraint","snapshot":{"element":[{"id":"Period","extension":[{"url":"http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status","valueCode":"normative"},{"url":"http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version","valueCode":"4.0.0"}],"path":"Period","short":"Time range defined by start and end date/time","definition":"A time period defined by a start and end date and optionally time.","comment":"When the Duration of zib TimeInterval is known in conjunction with either the startDateTime or endDateTime, it SHALL be converted to a Period and represented using this element. When only the Duration is known, it can be communicated using the <http://nictiz.nl/fhir/StructureDefinition/ext-PeriodOfUse-Duration> extension.","min":0,"max":"*","base":{"path":"Period","min":0,"max":"*"},"condition":["ele-1"],"constraint":[{"key":"ele-1","severity":"error","human":"All FHIR elements must have a @value or children","expression":"hasValue() or (children().count() > id.count())","xpath":"@value|f:*|h:div","source":"http://hl7.org/fhir/StructureDefinition/Element"},{"key":"per-1","severity":"error","human":"If present, start SHALL have a lower value than end","expression":"start.hasValue().not() or end.hasValue().not() or (start <= end)","xpath":"not(exists(f:start/@value)) or not(exists(f:end/@value)) or (xs:dateTime(f:start/@value) <= xs:dateTime(f:end/@value))","source":"http://hl7.org/fhir/StructureDefinition/Identifier"}],"mapping":[{"identity":"rim","map":"n/a"},{"identity":"v2","map":"DR"},{"identity":"rim","map":"IVL<TS>[lowClosed=\"true\" and highClosed=\"true\"] or URG<TS>[lowClosed=\"true\" and highClosed=\"true\"]"}]},{"id":"Period.id","path":"Period.id","representation":["xmlAttr"],"short":"Unique id for inter-element referencing","definition":"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.","min":0,"max":"1","base":{"path":"Element.id","min":0,"max":"1"},"type":[{"extension":[{"url":"http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type","valueUrl":"string"}],"code":"http://hl7.org/fhirpath/System.String"}],"mapping":[{"identity":"rim","map":"n/a"}]},{"id":"Period.extension","extension":[{"url":"http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status","valueCode":"normative"},{"url":"http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version","valueCode":"4.0.0"}],"path":"Period.extension","slicing":{"discriminator":[{"type":"value","path":"url"}],"description":"Extensions are always sliced by (at least) url","rules":"open"},"short":"Additional content defined by implementations","definition":"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.","comment":"There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone.","alias":["extensions","user content"],"min":0,"max":"*","base":{"path":"Element.extension","min":0,"max":"*"},"type":[{"code":"Extension"}],"condition":["ele-1"],"constraint":[{"key":"ele-1","severity":"error","human":"All FHIR elements must have a @value or children","expression":"hasValue() or (children().count() > id.count())","xpath":"@value|f:*|h:div","source":"http://hl7.org/fhir/StructureDefinition/Element"},{"key":"ext-1","severity":"error","human":"Must have either extensions or value[x], not both","expression":"extension.exists() != value.exists()","xpath":"exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])","source":"http://hl7.org/fhir/StructureDefinition/Element"}],"mapping":[{"identity":"rim","map":"n/a"},{"identity":"rim","map":"N/A"}]},{"id":"Period.start","extension":[{"url":"http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status","valueCode":"normative"},{"url":"http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version","valueCode":"4.0.0"}],"path":"Period.start","short":"startDateTime","definition":"The start date and time of the interval. The boundary is inclusive.","comment":"If the low element is missing, the meaning is that the low boundary is not known.","alias":["startDatumTijd"],"min":0,"max":"1","base":{"path":"Period.start","min":0,"max":"1"},"type":[{"code":"dateTime"}],"condition":["ele-1","per-1"],"constraint":[{"key":"ele-1","severity":"error","human":"All FHIR elements must have a @value or children","expression":"hasValue() or (children().count() > id.count())","xpath":"@value|f:*|h:div","source":"http://hl7.org/fhir/StructureDefinition/Element"}],"isSummary":true,"mapping":[{"identity":"rim","map":"n/a"},{"identity":"v2","map":"DR.1"},{"identity":"rim","map":"./low"},{"identity":"zib-timeinterval-v1.0-2020EN","map":"NL-CM:20.3.2","comment":"startDateTime"}]},{"id":"Period.end","extension":[{"url":"http://hl7.org/fhir/StructureDefinition/structuredefinition-standards-status","valueCode":"normative"},{"url":"http://hl7.org/fhir/StructureDefinition/structuredefinition-normative-version","valueCode":"4.0.0"}],"path":"Period.end","short":"endDateTime","definition":"The end date and time of the interval. If the end of the period is missing, it means no end was known or planned at the time the instance was created. The start may be in the past, and the end date in the future, which means that period is expected/planned to end at that time.","comment":"The high value includes any matching date/time. i.e. 2012-02-03T10:00:00 is in a period that has an end value of 2012-02-03.","alias":["eindDatumTijd"],"min":0,"max":"1","base":{"path":"Period.end","min":0,"max":"1"},"type":[{"code":"dateTime"}],"meaningWhenMissing":"If the end of the period is missing, it means that the period is ongoing","condition":["ele-1","per-1"],"constraint":[{"key":"ele-1","severity":"error","human":"All FHIR elements must have a @value or children","expression":"hasValue() or (children().count() > id.count())","xpath":"@value|f:*|h:div","source":"http://hl7.org/fhir/StructureDefinition/Element"}],"isSummary":true,"mapping":[{"identity":"rim","map":"n/a"},{"identity":"v2","map":"DR.2"},{"identity":"rim","map":"./high"},{"identity":"zib-timeinterval-v1.0-2020EN","map":"NL-CM:20.3.3","comment":"endDateTime"}]}]},"differential":{"element":[{"id":"Period","path":"Period","comment":"When the Duration of zib TimeInterval is known in conjunction with either the startDateTime or endDateTime, it SHALL be converted to a Period and represented using this element. When only the Duration is known, it can be communicated using the <http://nictiz.nl/fhir/StructureDefinition/ext-PeriodOfUse-Duration> extension."},{"id":"Period.start","path":"Period.start","short":"startDateTime","definition":"The start date and time of the interval. The boundary is inclusive.","alias":["startDatumTijd"],"mapping":[{"identity":"zib-timeinterval-v1.0-2020EN","map":"NL-CM:20.3.2","comment":"startDateTime"}]},{"id":"Period.end","path":"Period.end","short":"endDateTime","definition":"The end date and time of the interval. If the end of the period is missing, it means no end was known or planned at the time the instance was created. The start may be in the past, and the end date in the future, which means that period is expected/planned to end at that time.","alias":["eindDatumTijd"],"mapping":[{"identity":"zib-timeinterval-v1.0-2020EN","map":"NL-CM:20.3.3","comment":"endDateTime"}]}]}}